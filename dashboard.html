<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendify POS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Export Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <!-- Top Bar -->
    <div class="topbar">
        <div class="topbar-left">
            <button class="toggle-btn" id="toggleSidebar">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <h1 class="logo">Vendify</h1>
        </div>
        <div class="topbar-right">
            <button class="theme-toggle" id="themeToggle">
                <svg class="sun-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg class="moon-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
            <button class="notification-btn" id="notificationBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <span class="notification-badge">3</span>
            </button>
            <div class="profile-dropdown">
                <button class="profile-btn" id="profileBtn">
                    <div class="profile-avatar">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <span>Admin</span>
                    <svg class="dropdown-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
                <div class="profile-menu" id="profileMenu">
                    <a href="#" class="profile-menu-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        Profile
                    </a>
                    <a href="#" class="profile-menu-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6m-8-7h6m6 0h6"></path>
                        </svg>
                        Settings
                    </a>
                    <a href="#" class="profile-menu-item">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        Logout
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-page="dashboard">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item has-submenu">
                    <a href="#inventory" class="nav-link" data-page="inventory">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                            <line x1="12" y1="22.08" x2="12" y2="12"></line>
                        </svg>
                        <span>Inventory</span>
                        <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="submenu">
                        <li><a href="#add-item" data-page="add-item">Add Item</a></li>
                    </ul>
                </li>
                <li class="nav-item has-submenu">
                    <a href="#pos" class="nav-link" data-page="pos">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <span>POS / Sales</span>
                        <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="submenu">
                        <li><a href="#pos" data-page="pos">New Sale</a></li>
                        <li><a href="#all-sales" data-page="all-sales">All Sales</a></li>
                    </ul>
                </li>
                <li class="nav-item has-submenu">
                    <a href="#b2b-sales" class="nav-link" data-page="b2b-sales">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>B2B Sales</span>
                        <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="submenu">
                        <li><a href="#new-b2b-sale" data-page="new-b2b-sale">New B2B Sale</a></li>
                    </ul>
                </li>
                <li class="nav-item has-submenu">
                    <a href="#orders" class="nav-link" data-page="orders">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                            <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                        </svg>
                        <span>My Orders</span>
                        <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="submenu">
                        <li><a href="#new-order" data-page="new-order">New Order</a></li>
                        <li><a href="#add-supplier" data-page="add-supplier">Add Supplier</a></li>
                    </ul>
                </li>
                <li class="nav-item has-submenu">
                    <a href="#customers" class="nav-link" data-page="customers">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span>Customers</span>
                        <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="submenu">
                        <li><a href="#add-customer" data-page="add-customer">Add Customer</a></li>
                    </ul>
                </li>
                <li class="nav-item has-submenu">
                    <a href="#expenses" class="nav-link" data-page="expenses">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="1" x2="12" y2="23"></line>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                        </svg>
                        <span>Expenses</span>
                        <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="submenu">
                        <li><a href="#add-expense" data-page="add-expense">Add Expense</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="#accounts" class="nav-link" data-page="accounts">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                            <line x1="1" y1="10" x2="23" y2="10"></line>
                        </svg>
                        <span>Accounts</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#reports" class="nav-link" data-page="reports">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 3v18h18"></path>
                            <path d="M18 17V9"></path>
                            <path d="M13 17V5"></path>
                            <path d="M8 17v-3"></path>
                        </svg>
                        <span>Reports</span>
                    </a>
                </li>
                <li class="nav-item has-submenu">
                    <a href="#admin" class="nav-link" data-page="admin">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6"></path>
                            <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"></path>
                            <path d="M1 12h6m6 0h6"></path>
                            <path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"></path>
                        </svg>
                        <span>Admin Panel</span>
                        <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </a>
                    <ul class="submenu">
                        <li><a href="#new-user" data-page="new-user">New User</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <div class="page-container" id="pageContainer">
            <!-- Dashboard -->
            <div class="page active" id="dashboard-page">
                <div class="dashboard-header">
                    <div class="dashboard-welcome">
                        <h2 id="greetingText">Good Evening, User</h2>
                        <p class="dashboard-date" id="currentDate">Wednesday, 5 November 2025</p>
                    </div>
                    <div class="dashboard-controls">
                        <div class="branch-selector">
                            <label>Branch:</label>
                            <select id="branchSelect">
                                <option value="all">All Branches</option>
                                <option value="main">Main Branch</option>
                                <option value="downtown">Downtown Branch</option>
                            </select>
                        </div>
                        <div class="search-bar">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input type="text" placeholder="Search products, customers, or transactions...">
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Today's Sales</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <div class="stat-value" id="dashboardTodaysSales">0.00</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Today's Expenses</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 3v18h18"></path>
                                <path d="M18 17V9"></path>
                                <path d="M13 17V5"></path>
                                <path d="M8 17v-3"></path>
                            </svg>
                        </div>
                        <div class="stat-value" id="dashboardTodaysExpenses">0.00</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Profit/Loss</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                        </div>
                        <div class="stat-value profit" id="dashboardProfitLoss">0.00</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Customers</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        <div class="stat-value" id="dashboardTotalCustomers">0</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Stock Value</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                            </svg>
                        </div>
                        <div class="stat-value">0.00</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Pending B2B Orders</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                            </svg>
                        </div>
                        <div class="stat-value" id="dashboardPendingB2B">0</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Active Branches</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                        </div>
                        <div class="stat-value">0</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Out of Stock</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="15" y1="9" x2="9" y2="15"></line>
                                <line x1="9" y1="9" x2="15" y2="15"></line>
                            </svg>
                        </div>
                        <div class="stat-value warning">0</div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="section-header">
                    <h3>Quick Actions</h3>
                </div>
                <div class="quick-actions-grid">
                    <button class="action-card" data-page="pos">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <div class="action-content">
                            <h4>New Sale</h4>
                            <p>Create a new transaction</p>
                        </div>
                    </button>

                    <button class="action-card" data-page="add-item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                            <polyline points="12 12 12 22"></polyline>
                            <path d="M12 2v10"></path>
                        </svg>
                        <div class="action-content">
                            <h4>Add Product / Stock In</h4>
                            <p>Add new items to inventory</p>
                        </div>
                    </button>

                    <button class="action-card" data-page="add-expense">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="1" x2="12" y2="23"></line>
                            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                        </svg>
                        <div class="action-content">
                            <h4>Record Expense</h4>
                            <p>Log business expenses</p>
                        </div>
                    </button>

                    <button class="action-card" data-page="add-customer">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <div class="action-content">
                            <h4>Add Customer</h4>
                            <p>Register new customer</p>
                        </div>
                    </button>

                    <button class="action-card" data-page="reports">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 3v18h18"></path>
                            <path d="M18 17V9"></path>
                            <path d="M13 17V5"></path>
                            <path d="M8 17v-3"></path>
                        </svg>
                        <div class="action-content">
                            <h4>View Reports / Summary</h4>
                            <p>Access business analytics</p>
                        </div>
                    </button>

                    <button class="action-card" onclick="window.print()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 6 2 18 2 18 9"></polyline>
                            <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                            <rect x="6" y="14" width="12" height="8"></rect>
                        </svg>
                        <div class="action-content">
                            <h4>Print Daily Report</h4>
                            <p>Generate and print report</p>
                        </div>
                    </button>
                </div>

                <!-- Recent Activity -->
                <div class="section-header">
                    <h3>Recent Activity</h3>
                    <button class="view-all-btn">View All</button>
                </div>
                <div class="recent-activity">
                    <div class="empty-state">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        <p>No recent activity</p>
                    </div>
                </div>
            </div>

            <!-- Inventory -->
            <div class="page" id="inventory-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>Inventory Management</h2>
                        <p class="page-subtitle">Monitor and manage your stock levels</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-icon" id="refreshInventoryBtn" title="Refresh inventory data">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                        </button>
                        <div class="export-dropdown">
                            <button class="btn btn-secondary" id="exportInventoryBtn">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7 10 12 15 17 10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                Export
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                            <div class="export-menu">
                                <a href="#" class="export-option" data-format="excel">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                    </svg>
                                    Export as Excel
                                </a>
                                <a href="#" class="export-option" data-format="pdf">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10 9 9 9 8 9"></polyline>
                                    </svg>
                                    Export as PDF
                                </a>
                            </div>
                        </div>
                        <button class="btn btn-primary" id="addInventoryItemBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add New Item
                        </button>
                    </div>
                </div>

                <!-- Inventory Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Total Stock Value</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <div class="stat-value" id="totalStockValue">KSh 0.00</div>
                        <div class="stat-footer">
                            <span class="stat-info" id="totalItemsCount">0 items in stock</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Low Stock Items</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                                <line x1="12" y1="9" x2="12" y2="13"></line>
                                <line x1="12" y1="17" x2="12.01" y2="17"></line>
                            </svg>
                        </div>
                        <div class="stat-value" id="lowStockCount">0</div>
                        <div class="stat-footer">
                            <span class="stat-info">Items below reorder level</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Out of Stock / Expired</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="15" y1="9" x2="9" y2="15"></line>
                                <line x1="9" y1="9" x2="15" y2="15"></line>
                            </svg>
                        </div>
                        <div class="stat-value" id="outOfStockCount">0</div>
                        <div class="stat-footer">
                            <span class="stat-info" id="stockStatusText">All items in stock</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-label">Stock Movement (30d)</span>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                <polyline points="17 6 23 6 23 12"></polyline>
                            </svg>
                        </div>
                        <div class="stat-value" id="stockMovement">0</div>
                        <div class="stat-footer">
                            <span class="stat-info">Items sold this month</span>
                        </div>
                    </div>
                </div>

                <!-- Inventory Search and Filters -->
                <div class="inventory-controls">
                    <div class="inventory-search">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="text" id="inventorySearchInput" placeholder="Search by name, SKU, or category...">
                    </div>
                    
                    <div class="inventory-filters">
                        <select id="inventoryCategoryFilter" class="filter-select">
                            <option value="">All Categories</option>
                            <option value="electronics">Electronics</option>
                            <option value="clothing">Clothing</option>
                            <option value="food">Food & Beverages</option>
                            <option value="beauty">Beauty & Personal Care</option>
                            <option value="home">Home & Garden</option>
                            <option value="sports">Sports & Outdoors</option>
                            <option value="other">Other</option>
                        </select>

                        <select id="inventoryStatusFilter" class="filter-select">
                            <option value="">All Status</option>
                            <option value="in-stock">In Stock</option>
                            <option value="low-stock">Low Stock</option>
                            <option value="out-of-stock">Out of Stock</option>
                            <option value="expired">Expired</option>
                        </select>

                        <select id="inventorySortBy" class="filter-select">
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="quantity-asc">Quantity (Low-High)</option>
                            <option value="quantity-desc">Quantity (High-Low)</option>
                            <option value="value-asc">Value (Low-High)</option>
                            <option value="value-desc">Value (High-Low)</option>
                        </select>

                        <button class="btn-icon" id="clearFiltersBtn" title="Clear Filters">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="page-content">
                    <!-- Inventory Table -->
                    <div class="data-table-container">
                        <div class="table-header">
                            <h3>Inventory Items</h3>
                            <div class="table-info">
                                <span id="inventoryResultsCount">0 items</span>
                            </div>
                        </div>
                        
                        <div class="table-wrapper">
                            <table class="data-table" id="inventoryTable">
                                <thead>
                                    <tr>
                                        <th>
                                            <input type="checkbox" id="selectAllInventory" class="checkbox">
                                        </th>
                                        <th>Product Name</th>
                                        <th>SKU/Barcode</th>
                                        <th>Category</th>
                                        <th>Quantity</th>
                                        <th>Price</th>
                                        <th>Value</th>
                                        <th>Supplier</th>
                                        <th>Status</th>
                                        <th>Date Added</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="inventoryTableBody">
                                    <!-- Inventory rows will be inserted here -->
                                </tbody>
                            </table>
                            
                            <!-- Empty State -->
                            <div class="empty-state" id="inventoryEmptyState">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                                </svg>
                                <h3>No inventory items yet</h3>
                                <p>Start by adding your first inventory item</p>
                                <button class="btn btn-primary" onclick="document.getElementById('addInventoryItemBtn').click()">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="12" y1="5" x2="12" y2="19"></line>
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add First Item
                                </button>
                            </div>

                            <!-- Loading State -->
                            <div class="loading-state" id="inventoryLoadingState" style="display: none;">
                                <div class="spinner"></div>
                                <p>Loading inventory...</p>
                            </div>
                        </div>

                        <!-- Pagination -->
                        <div class="table-pagination" id="inventoryPagination">
                            <div class="pagination-info">
                                Showing <span id="paginationStart">0</span> to <span id="paginationEnd">0</span> of <span id="paginationTotal">0</span> items
                            </div>
                            <div class="pagination-controls">
                                <button class="btn-pagination" id="firstPageBtn" disabled>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="11 17 6 12 11 7"></polyline>
                                        <polyline points="18 17 13 12 18 7"></polyline>
                                    </svg>
                                </button>
                                <button class="btn-pagination" id="prevPageBtn" disabled>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="15 18 9 12 15 6"></polyline>
                                    </svg>
                                </button>
                                <div class="page-numbers" id="pageNumbers"></div>
                                <button class="btn-pagination" id="nextPageBtn">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                </button>
                                <button class="btn-pagination" id="lastPageBtn">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="13 17 18 12 13 7"></polyline>
                                        <polyline points="6 17 11 12 6 7"></polyline>
                                    </svg>
                                </button>
                            </div>
                            <select class="items-per-page" id="itemsPerPage">
                                <option value="25">25 per page</option>
                                <option value="50" selected>50 per page</option>
                                <option value="100">100 per page</option>
                                <option value="250">250 per page</option>
                                <option value="500">500 per page</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Item -->
            <div class="page" id="add-item-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>Add New Item</h2>
                        <p class="page-subtitle">Add products to your inventory</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-secondary" id="scanBarcodeBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 7V5a2 2 0 0 1 2-2h2"></path>
                                <path d="M17 3h2a2 2 0 0 1 2 2v2"></path>
                                <path d="M21 17v2a2 2 0 0 1-2 2h-2"></path>
                                <path d="M7 21H5a2 2 0 0 1-2-2v-2"></path>
                                <rect x="7" y="7" width="10" height="10"></rect>
                            </svg>
                            Scan Barcode
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <div class="form-container">
                        <form id="addItemForm" class="item-form">
                            <!-- Basic Information -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    Basic Information
                                </h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="itemName" class="form-label">Product Name <span class="required">*</span></label>
                                        <input type="text" id="itemName" name="itemName" class="form-input" placeholder="Enter product name" required>
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">Be specific and descriptive</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="itemCategory" class="form-label">Category <span class="required">*</span></label>
                                        <select id="itemCategory" name="itemCategory" class="form-input" required>
                                            <option value="">Select category</option>
                                            <option value="electronics">Electronics</option>
                                            <option value="clothing">Clothing & Fashion</option>
                                            <option value="food">Food & Beverages</option>
                                            <option value="beauty">Beauty & Personal Care</option>
                                            <option value="home">Home & Garden</option>
                                            <option value="sports">Sports & Outdoors</option>
                                            <option value="books">Books & Media</option>
                                            <option value="toys">Toys & Games</option>
                                            <option value="automotive">Automotive</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>

                                    <div class="form-group full-width">
                                        <label for="itemDescription" class="form-label">Description</label>
                                        <textarea id="itemDescription" name="itemDescription" class="form-input" rows="4" placeholder="Enter detailed product description, features, specifications, etc."></textarea>
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">Optional but recommended for better product tracking</small>
                                    </div>
                                </div>
                            </div>

                            <!-- SKU & Barcode -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                        <line x1="9" y1="3" x2="9" y2="21"></line>
                                        <line x1="15" y1="3" x2="15" y2="21"></line>
                                    </svg>
                                    SKU & Barcode
                                </h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="itemSKU" class="form-label">SKU/Barcode <span class="required">*</span></label>
                                        <div class="input-with-button">
                                            <input type="text" id="itemSKU" name="itemSKU" class="form-input" placeholder="Enter or generate SKU" required>
                                            <button type="button" class="btn-input-action" id="generateSKUBtn" title="Generate SKU">
                                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <polyline points="23 4 23 10 17 10"></polyline>
                                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                                                </svg>
                                            </button>
                                        </div>
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">Auto-generates when you enter product name</small>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Barcode Actions</label>
                                        <div class="barcode-actions">
                                            <button type="button" class="btn btn-secondary btn-sm" id="generateBarcodeBtn">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                                    <line x1="9" y1="3" x2="9" y2="21"></line>
                                                    <line x1="15" y1="3" x2="15" y2="21"></line>
                                                </svg>
                                                Generate Barcode
                                            </button>
                                            <button type="button" class="btn btn-secondary btn-sm" id="printBarcodeBtn" disabled>
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                    <polyline points="6 9 6 2 18 2 18 9"></polyline>
                                                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path>
                                                    <rect x="6" y="14" width="12" height="8"></rect>
                                                </svg>
                                                Print Label
                                            </button>
                                        </div>
                                    </div>

                                    <div class="form-group full-width">
                                        <div id="barcodePreview" class="barcode-preview" style="display: none;">
                                            <p style="color: var(--text-secondary); margin-bottom: 16px; font-size: 13px; font-weight: 500;">Barcode Preview</p>
                                            <canvas id="barcodeCanvas"></canvas>
                                            <div class="barcode-size-selector">
                                                <label class="form-label">Label Size:</label>
                                                <select id="barcodeSizeSelect" class="form-input-sm">
                                                    <option value="small">Small (40x20mm) - Ideal for small items</option>
                                                    <option value="medium" selected>Medium (50x30mm) - Standard size</option>
                                                    <option value="large">Large (70x40mm) - For boxes/cartons</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Pricing & Stock -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                                        <line x1="12" y1="1" x2="12" y2="23"></line>
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                    </svg>
                                    Pricing & Stock
                                </h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="itemPrice" class="form-label">Selling Price (KSh) <span class="required">*</span></label>
                                        <input type="number" id="itemPrice" name="itemPrice" class="form-input" placeholder="0.00" step="0.01" min="0" required>
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">The price customers will pay</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="itemCost" class="form-label">Cost Price (KSh)</label>
                                        <input type="number" id="itemCost" name="itemCost" class="form-input" placeholder="0.00" step="0.01" min="0">
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">Your purchase/cost price</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="itemQuantity" class="form-label">Quantity in Stock <span class="required">*</span></label>
                                        <input type="number" id="itemQuantity" name="itemQuantity" class="form-input" placeholder="0" min="0" required>
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">Current stock level</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="itemReorderLevel" class="form-label">Reorder Level</label>
                                        <input type="number" id="itemReorderLevel" name="itemReorderLevel" class="form-input" placeholder="5" min="0" value="5">
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">Alert when stock reaches this level</small>
                                    </div>
                                </div>
                            </div>

                            <!-- Supplier & Additional Info -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="12" y1="16" x2="12" y2="12"></line>
                                        <line x1="12" y1="8" x2="12.01" y2="8"></line>
                                    </svg>
                                    Supplier & Additional Information
                                </h3>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="itemSupplier" class="form-label">Supplier Name</label>
                                        <input type="text" id="itemSupplier" name="itemSupplier" class="form-input" placeholder="Enter supplier name">
                                    </div>

                                    <div class="form-group">
                                        <label for="itemUnit" class="form-label">Unit of Measure</label>
                                        <select id="itemUnit" name="itemUnit" class="form-input">
                                            <option value="piece">Piece (pcs)</option>
                                            <option value="kg">Kilogram (kg)</option>
                                            <option value="g">Gram (g)</option>
                                            <option value="liter">Liter (L)</option>
                                            <option value="ml">Milliliter (ml)</option>
                                            <option value="box">Box</option>
                                            <option value="pack">Pack</option>
                                            <option value="dozen">Dozen</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label for="itemExpiryDate" class="form-label">Expiry Date</label>
                                        <input type="date" id="itemExpiryDate" name="itemExpiryDate" class="form-input">
                                        <small style="color: var(--text-secondary); font-size: 12px; margin-top: 4px;">Leave blank if not applicable</small>
                                    </div>

                                    <div class="form-group">
                                        <label for="itemLocation" class="form-label">Storage Location</label>
                                        <input type="text" id="itemLocation" name="itemLocation" class="form-input" placeholder="e.g., Shelf A, Row 3">
                                    </div>
                                </div>
                            </div>

                            <!-- Form Actions -->
                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" id="cancelAddItemBtn">Cancel</button>
                                <button type="button" class="btn btn-secondary" id="saveAndNewBtn">Save & Add New</button>
                                <button type="submit" class="btn btn-primary" id="saveItemBtn">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                        <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                        <polyline points="7 3 7 8 15 8"></polyline>
                                    </svg>
                                    Save Item
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Barcode Scanner Modal -->
            <div class="modal" id="barcodeScannerModal">
                <div class="modal-content modal-lg">
                    <div class="modal-header">
                        <h3>Scan Barcode</h3>
                        <button class="modal-close" id="closeScannerBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div id="barcodeScannerContainer">
                            <video id="barcodeScannerVideo" autoplay></video>
                            <div class="scanner-overlay">
                                <div class="scanner-line"></div>
                            </div>
                        </div>
                        <div class="scanner-result" id="scannerResult" style="display: none;">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                            <h4>Barcode Detected!</h4>
                            <p class="barcode-value" id="scannedBarcodeValue"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- POS / Sales -->
            <div class="page" id="pos-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>Point of Sale</h2>
                        <p class="page-subtitle">Real-time sales processing system</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-secondary btn-sm" onclick="document.querySelector('[data-page=\'all-sales\']').click();">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                            View All Sales
                        </button>
                        <button class="btn btn-icon" onclick="posSystem.loadInventory(); posSystem.loadTodayStats(); posSystem.renderStats();" title="Refresh">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="page-content">
                    <!-- Today's Stats -->
                    <div class="pos-stats-grid" id="posStatsContainer">
                        <!-- Stats cards will be rendered here -->
                    </div>

                    <!-- Main POS Container -->
                    <div class="pos-container">
                        <!-- Left: Product Search & Cart -->
                        <div class="pos-left">
                            <!-- Search Bar -->
                            <div class="pos-search-section">
                                <div class="pos-search-bar">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="11" cy="11" r="8"></circle>
                                        <path d="m21 21-4.35-4.35"></path>
                                    </svg>
                                    <input type="text" 
                                           id="posSearchInput" 
                                           class="pos-search-input" 
                                           placeholder="Search by name or barcode..."
                                           autocomplete="off">
                                    <button class="btn-icon" id="posManualEntry" title="Manual Entry">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="12" y1="5" x2="12" y2="19"></line>
                                            <line x1="5" y1="12" x2="19" y2="12"></line>
                                        </svg>
                                    </button>
                                </div>
                                <div class="pos-search-results" id="posSearchResults"></div>
                            </div>

                            <!-- Cart Items -->
                            <div class="pos-cart-section">
                                <div class="pos-cart-header">
                                    <h3>Cart Items</h3>
                                    <button class="btn-text" id="posClearCart">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                        </svg>
                                        Clear All
                                    </button>
                                </div>
                                <div class="pos-cart-items" id="posCartItems">
                                    <!-- Cart items will be rendered here -->
                                </div>
                            </div>
                        </div>

                        <!-- Right: Checkout Summary -->
                        <div class="pos-right">
                            <div class="pos-summary-card">
                                <h3 class="pos-summary-title">Order Summary</h3>
                                
                                <!-- Subtotal -->
                                <div class="pos-summary-row">
                                    <span>Subtotal</span>
                                    <span id="posSubtotal">KES 0.00</span>
                                </div>

                                <!-- Discount -->
                                <div class="pos-editable-row">
                                    <div class="pos-editable-label">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                                            <line x1="7" y1="7" x2="7.01" y2="7"></line>
                                        </svg>
                                        Discount
                                    </div>
                                    <div class="pos-editable-input">
                                        <input type="number" 
                                               id="posDiscountInput" 
                                               class="pos-input-small" 
                                               placeholder="0" 
                                               min="0" 
                                               step="0.01">
                                        <select id="posDiscountType" class="pos-select-small">
                                            <option value="percent">%</option>
                                            <option value="fixed">KES</option>
                                        </select>
                                    </div>
                                    <span id="posDiscountAmount" class="pos-amount">-KES 0.00</span>
                                </div>

                                <!-- Tax -->
                                <div class="pos-editable-row">
                                    <div class="pos-editable-label">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                            <line x1="1" y1="10" x2="23" y2="10"></line>
                                        </svg>
                                        Tax
                                    </div>
                                    <div class="pos-editable-input">
                                        <input type="number" 
                                               id="posTaxInput" 
                                               class="pos-input-small" 
                                               placeholder="0" 
                                               min="0" 
                                               step="0.01">
                                        <select id="posTaxType" class="pos-select-small">
                                            <option value="percent">%</option>
                                            <option value="fixed">KES</option>
                                        </select>
                                    </div>
                                    <span id="posTaxAmount" class="pos-amount">+KES 0.00</span>
                                </div>

                                <div class="pos-divider"></div>

                                <!-- Total -->
                                <div class="pos-total-row">
                                    <span>Total</span>
                                    <span id="posTotal">KES 0.00</span>
                                </div>

                                <!-- Action Buttons -->
                                <div class="pos-actions">
                                    <button class="btn-pos-primary" id="posCompleteSale">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <polyline points="20 6 9 17 4 12"></polyline>
                                        </svg>
                                        Complete Sale
                                    </button>
                                </div>

                                <!-- Quick Actions -->
                                <div class="pos-quick-actions">
                                    <button class="pos-quick-btn" onclick="window.posManager.holdSale()">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <line x1="12" y1="8" x2="12" y2="12"></line>
                                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                        </svg>
                                        Hold
                                    </button>
                                    <button class="pos-quick-btn" onclick="window.posManager.generateQuote()">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14 2 14 8 20 8"></polyline>
                                        </svg>
                                        Quote
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- New Sale -->
            <div class="page" id="new-sale-page">
                <div class="page-header">
                    <h2>New Sale</h2>
                </div>
                <div class="page-content">
                    <!-- New sale content will go here -->
                </div>
            </div>

            <!-- All Sales -->
            <div class="page" id="all-sales-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>All Sales</h2>
                        <p class="page-subtitle">View and manage all sales transactions</p>
                    </div>
                    <div class="page-header-right">
                        <select id="salesDateRange" class="filter-select">
                            <option value="today">Today</option>
                            <option value="yesterday">Yesterday</option>
                            <option value="week">Last 7 Days</option>
                            <option value="month">Last 30 Days</option>
                            <option value="all">All Time</option>
                        </select>
                        <button class="btn btn-secondary" id="exportExcelBtn" title="Export to Excel">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                            Export Excel
                        </button>
                        <button class="btn btn-secondary" id="exportPdfBtn" title="Export to PDF">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                            </svg>
                            Export PDF
                        </button>
                        <button class="btn btn-icon" id="refreshSalesBtn" title="Refresh sales data">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <div id="salesTableContainer">
                        <!-- Sales table will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- B2B Sales -->
            <div class="page" id="b2b-sales-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>B2B / Wholesale Sales</h2>
                        <p class="page-subtitle">Manage wholesale orders and bulk sales</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-secondary" id="sellAsRetailerBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="9" cy="21" r="1"></circle>
                                <circle cx="20" cy="21" r="1"></circle>
                                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                            </svg>
                            Sell as Retailer
                        </button>
                        <button class="btn btn-primary" id="newWholesaleBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            New Wholesale Sale
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card primary">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="1" x2="12" y2="23"></line>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <span class="stat-label">Total B2B Sales</span>
                                <div class="stat-value" id="b2bTotalSales">KES 0</div>
                            </div>
                        </div>

                        <div class="stat-card warning">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <span class="stat-label">Pending Orders</span>
                                <div class="stat-value" id="b2bPendingOrders">0</div>
                            </div>
                        </div>

                        <div class="stat-card success">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <span class="stat-label">Wholesale Customers</span>
                                <div class="stat-value" id="b2bTotalCustomers">0</div>
                            </div>
                        </div>

                        <div class="stat-card info">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                                    <polyline points="17 6 23 6 23 12"></polyline>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <span class="stat-label">Avg. Order Value</span>
                                <div class="stat-value" id="b2bAvgOrderValue">KES 0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Search and Filters -->
                    <div class="search-filter-section">
                        <div class="search-box-wrapper">
                            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input 
                                type="text" 
                                id="b2bSearchInput" 
                                class="search-input" 
                                placeholder="Search by invoice #, customer name, or phone..."
                            >
                        </div>
                        <div class="filter-buttons">
                            <button class="b2b-filter-btn active" data-filter="status" data-value="all">All Status</button>
                            <button class="b2b-filter-btn" data-filter="status" data-value="pending">Pending</button>
                            <button class="b2b-filter-btn" data-filter="status" data-value="completed">Completed</button>
                            <button class="b2b-filter-btn" data-filter="status" data-value="cancelled">Cancelled</button>
                            <button class="b2b-filter-btn" data-filter="dateRange" data-value="today">Today</button>
                            <button class="b2b-filter-btn" data-filter="dateRange" data-value="week">This Week</button>
                            <button class="b2b-filter-btn" data-filter="dateRange" data-value="month">This Month</button>
                        </div>
                    </div>

                    <!-- B2B Sales Table -->
                    <div class="table-container">
                        <div class="table-header">
                            <h3>Wholesale Sales Transactions</h3>
                            <div class="table-actions">
                                <button class="btn btn-secondary btn-sm" onclick="window.b2bSalesManager.exportToExcel()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="7 10 12 15 17 10"></polyline>
                                        <line x1="12" y1="15" x2="12" y2="3"></line>
                                    </svg>
                                    Export Excel
                                </button>
                                <button class="btn btn-secondary btn-sm" onclick="window.b2bSalesManager.exportToPDF()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10 9 9 9 8 9"></polyline>
                                    </svg>
                                    Export PDF
                                </button>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <table class="data-table" id="b2bSalesTable">
                                <thead>
                                    <tr>
                                        <th>Invoice #</th>
                                        <th>Date & Time</th>
                                        <th>Customer</th>
                                        <th>Phone</th>
                                        <th>Items</th>
                                        <th>Amount</th>
                                        <th>Payment Method</th>
                                        <th>Credit Terms</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="b2bSalesTableBody">
                                    <tr>
                                        <td colspan="10" style="text-align: center; padding: 3rem;">
                                            <div class="empty-state-inline">
                                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                                </svg>
                                                <p>No B2B sales found. Create your first wholesale order!</p>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- New B2B Sale -->
            <div class="page" id="new-b2b-sale-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>New Wholesale Order</h2>
                        <p class="page-subtitle">Create bulk orders with wholesale pricing</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-danger" id="clearB2BCart">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            </svg>
                            Clear Cart
                        </button>
                        <button class="btn btn-primary" id="completeB2BSale">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                            Complete Sale
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <div class="b2b-form-vertical">
                        
                        <!-- Customer Information Section -->
                        <div class="b2b-form-card">
                            <h3 class="section-title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                Customer Information
                            </h3>
                            <div class="form-grid-2">
                                <div class="form-group">
                                    <label for="b2bCustomerSelect">Select Customer *</label>
                                    <select id="b2bCustomerSelect" class="form-input-clean" required>
                                        <option value="">Choose a customer...</option>
                                    </select>
                                </div>
                                <div class="customer-quick-info" id="customerQuickInfo">
                                    <div class="info-placeholder">Select a customer to see details</div>
                                </div>
                            </div>
                        </div>

                        <!-- Search and Add Products Section -->
                        <div class="b2b-form-card">
                            <h3 class="section-title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="m21 21-4.35-4.35"></path>
                                </svg>
                                Search & Add Products
                            </h3>
                            
                            <!-- Search Bar -->
                            <div class="product-search-wrapper">
                                <svg class="search-icon-input" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <path d="m21 21-4.35-4.35"></path>
                                </svg>
                                <input 
                                    type="text" 
                                    id="b2bProductSearch" 
                                    class="product-search-input" 
                                    placeholder="Search products by name, SKU, or category..."
                                    autocomplete="off"
                                >
                                <div id="b2bSearchResults" class="search-results-dropdown"></div>
                            </div>

                            <!-- OR Divider -->
                            <div class="or-divider">
                                <span>OR</span>
                            </div>

                            <!-- Manual Product Entry -->
                            <div class="manual-entry-section">
                                <div class="form-grid-4">
                                    <div class="form-group">
                                        <label for="manualProductName">Product Name *</label>
                                        <input type="text" id="manualProductName" class="form-input-clean" placeholder="Enter product name">
                                    </div>
                                    <div class="form-group">
                                        <label for="manualProductPrice">Unit Price (KES) *</label>
                                        <input type="number" id="manualProductPrice" class="form-input-clean" placeholder="0.00" step="0.01" min="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="manualProductQty">Quantity *</label>
                                        <input type="number" id="manualProductQty" class="form-input-clean" placeholder="10" min="1" value="10">
                                    </div>
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <button type="button" id="addManualItemBtn" class="btn btn-primary btn-block">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                                <line x1="5" y1="12" x2="19" y2="12"></line>
                                            </svg>
                                            Add Manual Item
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Shopping Cart Section -->
                        <div class="b2b-form-card cart-section-large">
                            <div class="cart-header">
                                <h3 class="section-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="9" cy="21" r="1"></circle>
                                        <circle cx="20" cy="21" r="1"></circle>
                                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                    </svg>
                                    Order Items
                                    <span class="cart-count" id="cartItemCount">0 items</span>
                                </h3>
                            </div>
                            <div class="cart-table-container">
                                <table class="cart-table-wide">
                                    <thead>
                                        <tr>
                                            <th width="5%">#</th>
                                            <th width="35%">Product Name</th>
                                            <th width="12%">SKU</th>
                                            <th width="15%">Unit Price</th>
                                            <th width="15%">Quantity</th>
                                            <th width="15%">Total</th>
                                            <th width="3%"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="b2bCartTableBody">
                                        <tr class="empty-cart-row">
                                            <td colspan="7">
                                                <div class="empty-cart-message">
                                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                                        <circle cx="9" cy="21" r="1"></circle>
                                                        <circle cx="20" cy="21" r="1"></circle>
                                                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                                    </svg>
                                                    <p>Cart is empty</p>
                                                    <span>Search or manually add products to create an order</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Payment & Summary Section -->
                        <div class="form-grid-2">
                            <!-- Payment Terms -->
                            <div class="b2b-form-card">
                                <h3 class="section-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                        <line x1="1" y1="10" x2="23" y2="10"></line>
                                    </svg>
                                    Payment & Terms
                                </h3>
                                <div class="form-grid-2">
                                    <div class="form-group">
                                        <label for="b2bPaymentMethod">Payment Method</label>
                                        <select id="b2bPaymentMethod" class="form-input-clean">
                                            <option value="cash">Cash</option>
                                            <option value="mpesa">M-Pesa</option>
                                            <option value="bank_transfer">Bank Transfer</option>
                                            <option value="cheque">Cheque</option>
                                            <option value="credit">Credit Account</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="b2bCreditTerm">Credit Terms</label>
                                        <select id="b2bCreditTerm" class="form-input-clean">
                                            <option value="immediate">Immediate Payment</option>
                                            <option value="net30">Net 30 Days</option>
                                            <option value="net60">Net 60 Days</option>
                                            <option value="net90">Net 90 Days</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-grid-2" style="margin-top: 1rem;">
                                    <div class="form-group">
                                        <label for="b2bDiscountValue">Discount Value</label>
                                        <input type="number" id="b2bDiscountValue" class="form-input-clean" value="0" min="0" step="0.01">
                                    </div>
                                    <div class="form-group">
                                        <label for="b2bDiscountType">Discount Type</label>
                                        <select id="b2bDiscountType" class="form-input-clean">
                                            <option value="percent">Percentage (%)</option>
                                            <option value="fixed">Fixed Amount (KES)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Order Summary -->
                            <div class="b2b-form-card summary-highlight">
                                <h3 class="section-title">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                    </svg>
                                    Order Summary
                                </h3>
                                <div class="summary-rows">
                                    <div class="summary-row-clean">
                                        <span>Subtotal:</span>
                                        <strong id="b2bSubtotal">KES 0.00</strong>
                                    </div>
                                    <div class="summary-row-clean">
                                        <span>Discount:</span>
                                        <strong id="b2bDiscountAmount" class="text-danger">KES 0.00</strong>
                                    </div>
                                    <div class="summary-divider-clean"></div>
                                    <div class="summary-row-clean grand-total-clean">
                                        <span>Grand Total:</span>
                                        <strong id="b2bGrandTotal">KES 0.00</strong>
                                    </div>
                                    <div class="summary-info-clean">
                                        <p id="b2bDueDate">Payment: Immediate</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- My Orders -->
            <div class="page" id="orders-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>My Orders</h2>
                        <p class="page-subtitle">Track and manage company orders</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-secondary" id="exportOrdersBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Export
                        </button>
                        <button class="btn btn-secondary" id="addSupplierBtn" onclick="document.querySelector('[data-page=\'add-supplier\']').click()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                                <line x1="12" y1="5" x2="12" y2="9"></line>
                                <line x1="10" y1="7" x2="14" y2="7"></line>
                            </svg>
                            Add Supplier
                        </button>
                        <button class="btn btn-primary" id="createOrderBtn" onclick="document.querySelector('[data-page=\'new-order\']').click()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Create Order
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card primary">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                    <path d="M9 14l2 2 4-4"></path>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Total Orders</div>
                                <div class="stat-value" id="totalOrdersCount">0</div>
                                <div class="stat-subtitle" id="totalOrdersAmount">KSh 0</div>
                            </div>
                        </div>

                        <div class="stat-card warning">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Pending Orders</div>
                                <div class="stat-value" id="pendingOrdersCount">0</div>
                                <div class="stat-subtitle" id="pendingOrdersAmount">KSh 0</div>
                            </div>
                        </div>

                        <div class="stat-card success">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Completed Orders</div>
                                <div class="stat-value" id="completedOrdersCount">0</div>
                                <div class="stat-subtitle" id="completedOrdersAmount">KSh 0</div>
                            </div>
                        </div>

                        <div class="stat-card info">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Total Suppliers</div>
                                <div class="stat-value" id="totalSuppliersCount">0</div>
                                <div class="stat-subtitle">Active suppliers</div>
                            </div>
                        </div>
                    </div>

                    <!-- Orders Table -->
                    <div class="table-container" style="margin-top: 2rem;">
                        <div class="table-header">
                            <h3>Recent Orders</h3>
                            <div class="table-actions">
                                <div class="search-filter-section">
                                    <input type="text" class="search-input" id="ordersSearchInput" placeholder="Search orders...">
                                    <div class="filter-group">
                                        <button class="b2b-filter-btn active" data-status="all">All</button>
                                        <button class="b2b-filter-btn" data-status="pending">Pending</button>
                                        <button class="b2b-filter-btn" data-status="completed">Completed</button>
                                        <button class="b2b-filter-btn" data-status="cancelled">Cancelled</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <table class="data-table" id="ordersTable">
                                <thead>
                                    <tr>
                                        <th>Order #</th>
                                        <th>Date</th>
                                        <th>Supplier</th>
                                        <th>Items</th>
                                        <th>Total Amount</th>
                                        <th>Payment Status</th>
                                        <th>Delivery Status</th>
                                        <th>Expected Delivery</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="ordersTableBody">
                                    <tr>
                                        <td colspan="9" style="text-align: center; padding: 3rem;">
                                            <div class="empty-state-inline">
                                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                                </svg>
                                                <p>No orders found. Create your first order!</p>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Pagination -->
                        <div id="ordersPagination" class="pagination-container"></div>
                    </div>
                </div>
            </div>

            <!-- New Order -->
            <div class="page" id="new-order-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>Create New Order</h2>
                        <p class="page-subtitle">Create purchase orders from suppliers</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-secondary" onclick="showPage('orders')">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="19" y1="12" x2="5" y2="12"></line>
                                <polyline points="12 19 5 12 12 5"></polyline>
                            </svg>
                            Back to Orders
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <!-- Order Form -->
                    <div class="order-form-container">
                        <form id="newOrderForm">
                            <!-- Supplier Selection Card -->
                            <div class="form-card">
                                <div class="form-card-header">
                                    <h3>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="9" cy="7" r="4"></circle>
                                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                        </svg>
                                        Supplier Information
                                    </h3>
                                </div>
                                <div class="form-card-body">
                                    <div class="form-grid-2">
                                        <div class="form-group">
                                            <label for="orderSupplier">Select Supplier *</label>
                                            <select id="orderSupplier" class="form-control" required>
                                                <option value="">-- Select Supplier --</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="orderExpectedDate">Expected Delivery Date *</label>
                                            <input type="date" id="orderExpectedDate" class="form-control" required>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="orderNotes">Order Notes</label>
                                        <textarea id="orderNotes" class="form-control" rows="2" placeholder="Special instructions or notes for this order..."></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Order Items Card -->
                            <div class="form-card">
                                <div class="form-card-header">
                                    <h3>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                            <line x1="3" y1="6" x2="21" y2="6"></line>
                                            <path d="M16 10a4 4 0 0 1-8 0"></path>
                                        </svg>
                                        Order Items
                                    </h3>
                                    <button type="button" class="btn btn-sm btn-primary" onclick="newOrderManager.addOrderItem()">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="12" y1="5" x2="12" y2="19"></line>
                                            <line x1="5" y1="12" x2="19" y2="12"></line>
                                        </svg>
                                        Add Item
                                    </button>
                                </div>
                                <div class="form-card-body">
                                    <div id="orderItemsContainer">
                                        <!-- Order items will be added here dynamically -->
                                        <div class="empty-state-inline">
                                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                                                <line x1="3" y1="6" x2="21" y2="6"></line>
                                                <path d="M16 10a4 4 0 0 1-8 0"></path>
                                            </svg>
                                            <p>No items added yet. Click "Add Item" to start.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Order Summary Card -->
                            <div class="form-card">
                                <div class="form-card-header">
                                    <h3>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14 2 14 8 20 8"></polyline>
                                            <line x1="16" y1="13" x2="8" y2="13"></line>
                                            <line x1="16" y1="17" x2="8" y2="17"></line>
                                            <polyline points="10 9 9 9 8 9"></polyline>
                                        </svg>
                                        Order Summary
                                    </h3>
                                </div>
                                <div class="form-card-body">
                                    <div class="order-summary">
                                        <div class="summary-row">
                                            <span>Total Items:</span>
                                            <strong id="summaryTotalItems">0</strong>
                                        </div>
                                        <div class="summary-row">
                                            <span>Total Quantity:</span>
                                            <strong id="summaryTotalQty">0</strong>
                                        </div>
                                        <div class="summary-row summary-total">
                                            <span>Total Amount:</span>
                                            <strong id="summaryTotalAmount">KSh 0.00</strong>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Form Actions -->
                            <div class="form-actions-sticky">
                                <button type="button" class="btn btn-secondary" onclick="newOrderManager.clearForm()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                    Clear Form
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                        <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                        <polyline points="7 3 7 8 15 8"></polyline>
                                    </svg>
                                    Create Order
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Add Supplier -->
            <div class="page" id="add-supplier-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>Add Supplier</h2>
                        <p class="page-subtitle">Manage your suppliers and vendors</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-secondary" onclick="document.querySelector('[data-page=\'orders\']').click()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="19" y1="12" x2="5" y2="12"></line>
                                <polyline points="12 19 5 12 12 5"></polyline>
                            </svg>
                            Back to Orders
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <!-- Add Supplier Form -->
                    <div class="form-card-compact">
                        <h3 class="form-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <line x1="19" y1="8" x2="19" y2="14"></line>
                                <line x1="22" y1="11" x2="16" y2="11"></line>
                            </svg>
                            New Supplier Information
                        </h3>
                        <form id="addSupplierForm">
                            <div class="form-grid-3">
                                <div class="form-group">
                                    <label for="supplierName">Supplier Name *</label>
                                    <input type="text" id="supplierName" class="form-control" placeholder="Enter supplier name" required>
                                </div>
                                <div class="form-group">
                                    <label for="supplierEmail">Email Address *</label>
                                    <input type="email" id="supplierEmail" class="form-control" placeholder="supplier@example.com" required>
                                </div>
                                <div class="form-group">
                                    <label for="supplierPhone">Phone Number *</label>
                                    <input type="tel" id="supplierPhone" class="form-control" placeholder="+254 700 000 000" required>
                                </div>
                            </div>
                            <div class="form-grid-3">
                                <div class="form-group">
                                    <label for="supplierCompany">Company Name</label>
                                    <input type="text" id="supplierCompany" class="form-control" placeholder="Company name">
                                </div>
                                <div class="form-group">
                                    <label for="supplierCategory">Category</label>
                                    <select id="supplierCategory" class="form-control">
                                        <option value="">Select category</option>
                                        <option value="beverages">Beverages</option>
                                        <option value="food">Food & Groceries</option>
                                        <option value="electronics">Electronics</option>
                                        <option value="clothing">Clothing & Apparel</option>
                                        <option value="stationery">Stationery</option>
                                        <option value="hardware">Hardware</option>
                                        <option value="cosmetics">Cosmetics & Beauty</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="supplierStatus">Status</label>
                                    <select id="supplierStatus" class="form-control">
                                        <option value="active">Active</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-grid-2">
                                <div class="form-group">
                                    <label for="supplierAddress">Address</label>
                                    <input type="text" id="supplierAddress" class="form-control" placeholder="Street address">
                                </div>
                                <div class="form-group">
                                    <label for="supplierCity">City</label>
                                    <input type="text" id="supplierCity" class="form-control" placeholder="City">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="supplierNotes">Notes</label>
                                <textarea id="supplierNotes" class="form-control" rows="2" placeholder="Additional notes about the supplier..."></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" onclick="supplierManager.clearForm()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                    Clear Form
                                </button>
                                <button type="submit" class="btn btn-primary" id="saveSupplierBtn">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                        <polyline points="17 21 17 13 7 13 7 21"></polyline>
                                        <polyline points="7 3 7 8 15 8"></polyline>
                                    </svg>
                                    Save Supplier
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Suppliers Table -->
                    <div class="table-container" style="margin-top: 2rem;">
                        <div class="table-header">
                            <h3>All Suppliers</h3>
                            <div class="table-actions">
                                <div class="search-filter-section">
                                    <input type="text" class="search-input" id="suppliersSearchInput" placeholder="Search suppliers...">
                                    <div class="filter-group">
                                        <button class="b2b-filter-btn active" data-status="all">All</button>
                                        <button class="b2b-filter-btn" data-status="active">Active</button>
                                        <button class="b2b-filter-btn" data-status="inactive">Inactive</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <table class="data-table" id="suppliersTable">
                                <thead>
                                    <tr>
                                        <th>Supplier Name</th>
                                        <th>Company</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Category</th>
                                        <th>Location</th>
                                        <th>Status</th>
                                        <th>Added On</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="suppliersTableBody">
                                    <tr>
                                        <td colspan="9" style="text-align: center; padding: 3rem;">
                                            <div class="empty-state-inline">
                                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                                    <circle cx="9" cy="7" r="4"></circle>
                                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                                </svg>
                                                <p>No suppliers found. Add your first supplier!</p>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Customers -->
            <div class="page" id="customers-page">
                <div class="page-header">
                    <h2>Customers</h2>
                    <div class="page-header-actions">
                        <button class="btn-export-pdf" onclick="window.customerManager.exportToPDF()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                            Export PDF
                        </button>
                        <button class="btn-primary" data-page="add-customer" onclick="document.querySelector('[data-page=\'add-customer\']').click()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Customer
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <!-- Stats Cards -->
                    <div class="stats-grid" style="margin-bottom: 2rem;">
                        <div class="customer-stat-card">
                            <div class="stat-icon-clean">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value-customer stat-blue" id="customersTotalCount">0</span>
                                <span class="stat-label">Total Customers</span>
                            </div>
                        </div>
                        
                        <div class="customer-stat-card">
                            <div class="stat-icon-clean">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="8.5" cy="7" r="4"></circle>
                                    <polyline points="17 11 19 13 23 9"></polyline>
                                </svg>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value-customer stat-green" id="customersActiveCount">0</span>
                                <span class="stat-label">Active Customers</span>
                            </div>
                        </div>
                        
                        <div class="customer-stat-card">
                            <div class="stat-icon-clean">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="8.5" cy="7" r="4"></circle>
                                    <line x1="18" y1="8" x2="23" y2="13"></line>
                                    <line x1="23" y1="8" x2="18" y2="13"></line>
                                </svg>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value-customer stat-gray" id="customersInactiveCount">0</span>
                                <span class="stat-label">Inactive Customers</span>
                            </div>
                        </div>
                    </div>

                    <!-- Search and Filter -->
                    <div class="search-filter-container">
                        <div class="search-box">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input type="text" id="customerSearch" placeholder="Search by name, email, phone, or company...">
                        </div>
                        <select id="customerDateFilter" class="date-filter">
                            <option value="all">All Time</option>
                            <option value="today">Today</option>
                            <option value="this-month">This Month</option>
                            <option value="this-year">This Year</option>
                        </select>
                        <div class="filter-buttons">
                            <button class="customer-filter-btn active" data-filter="all">All</button>
                            <button class="customer-filter-btn" data-filter="active">Active</button>
                            <button class="customer-filter-btn" data-filter="inactive">Inactive</button>
                        </div>
                    </div>

                    <!-- Customers Table -->
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Customer</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Address</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="customersTableBody">
                                <tr>
                                    <td colspan="6" style="text-align: center; padding: 3rem; color: var(--text-secondary);">
                                        Loading customers...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Add Customer -->
            <div class="page" id="add-customer-page">
                <div class="page-header">
                    <h2>Add Customer</h2>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 0.5rem;">Register a new customer</p>
                </div>
                <div class="page-content">
                    <div class="expense-form-wrapper">
                        <form id="addCustomerForm" class="expense-form-enhanced">
                            
                            <!-- Basic Information Section -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    Basic Information
                                </h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Full Name <span class="required">*</span></label>
                                        <input type="text" name="name" class="form-input" placeholder="John Doe" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Email Address</label>
                                        <input type="email" name="email" class="form-input" placeholder="john@example.com">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Phone Number</label>
                                        <input type="tel" name="phone" class="form-input" placeholder="+254 700 000 000">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Company</label>
                                        <input type="text" name="company" class="form-input" placeholder="Company name">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Status</label>
                                        <select name="status" class="form-input">
                                            <option value="active"> Active</option>
                                            <option value="inactive"> Inactive</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Location Information Section -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                        <circle cx="12" cy="10" r="3"></circle>
                                    </svg>
                                    Location Information
                                </h3>
                                <div class="form-row">
                                    <div class="form-group form-group-full">
                                        <label>Address</label>
                                        <input type="text" name="address" class="form-input" placeholder="Street address">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>City</label>
                                        <input type="text" name="city" class="form-input" placeholder="Nairobi">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Country</label>
                                        <input type="text" name="country" class="form-input" placeholder="Kenya" value="Kenya">
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Information Section -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                    Additional Information
                                </h3>
                                <div class="form-row">
                                    <div class="form-group form-group-full">
                                        <label>Notes</label>
                                        <textarea name="notes" class="form-input" rows="4" placeholder="Additional notes about this customer..."></textarea>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Form Actions -->
                            <div class="form-actions-enhanced">
                                <button type="button" class="btn-cancel" onclick="document.querySelector('[data-page=\'customers\']').click()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                    Cancel
                                </button>
                                <button type="submit" class="btn-submit">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                    Add Customer
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Expenses -->
            <div class="page" id="expenses-page">
                <div class="page-header">
                    <h2>Expenses</h2>
                    <div class="page-header-actions">
                        <button class="btn-export-pdf" onclick="window.expenseManager.exportToPDF()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="16" y1="13" x2="8" y2="13"></line>
                                <line x1="16" y1="17" x2="8" y2="17"></line>
                                <polyline points="10 9 9 9 8 9"></polyline>
                            </svg>
                            Export PDF
                        </button>
                        <button class="btn-expense" data-page="add-expense" onclick="document.querySelector('[data-page=\'add-expense\']').click()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            Add Expense
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <!-- Stats Cards -->
                    <div class="stats-grid" style="margin-bottom: 2rem;">
                        <div class="expense-stat-card">
                            <div class="stat-icon-clean">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="1" x2="12" y2="23"></line>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                </svg>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value-expense stat-red" id="expensesTodayAmount">KSh 0</span>
                                <span class="stat-label">Today's Expenses</span>
                            </div>
                        </div>
                        
                        <div class="expense-stat-card">
                            <div class="stat-icon-clean">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value-expense stat-orange" id="expensesMonthAmount">KSh 0</span>
                                <span class="stat-label">This Month</span>
                            </div>
                        </div>
                        
                        <div class="expense-stat-card">
                            <div class="stat-icon-clean">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value-expense stat-yellow" id="expensesPendingCount">0</span>
                                <span class="stat-label">Pending Approval</span>
                            </div>
                        </div>
                        
                        <div class="expense-stat-card">
                            <div class="stat-icon-clean">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </div>
                            <div class="stat-details">
                                <span class="stat-value-expense stat-green" id="expensesApprovedCount">0</span>
                                <span class="stat-label">Approved (Month)</span>
                            </div>
                        </div>
                    </div>

                    <!-- Search and Filter -->
                    <div class="search-filter-container">
                        <div class="search-box">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input type="text" id="expenseSearch" placeholder="Search expenses by description, category, vendor...">
                        </div>
                        <div class="filter-buttons">
                            <button class="expense-filter-btn active" data-filter="all">All</button>
                            <button class="expense-filter-btn" data-filter="pending">Pending</button>
                            <button class="expense-filter-btn" data-filter="approved">Approved</button>
                            <button class="expense-filter-btn" data-filter="rejected">Rejected</button>
                        </div>
                    </div>

                    <!-- Expenses Table -->
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Description</th>
                                    <th>Category</th>
                                    <th>Vendor</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="expensesTableBody">
                                <tr>
                                    <td colspan="7" style="text-align: center; padding: 3rem; color: var(--text-secondary);">
                                        Loading expenses...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Add Expense -->
            <div class="page" id="add-expense-page">
                <div class="page-header">
                    <h2>Add Expense</h2>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 0.5rem;">Record a new business expense</p>
                </div>
                <div class="page-content">
                    <div class="expense-form-wrapper">
                        <form id="addExpenseForm" class="expense-form-enhanced">
                            
                            <!-- Basic Information Section -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                        <line x1="16" y1="2" x2="16" y2="6"></line>
                                        <line x1="8" y1="2" x2="8" y2="6"></line>
                                        <line x1="3" y1="10" x2="21" y2="10"></line>
                                    </svg>
                                    Basic Information
                                </h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Date <span class="required">*</span></label>
                                        <input type="date" name="date" class="form-input" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Category <span class="required">*</span></label>
                                        <select name="category" class="form-input" required>
                                            <option value="">Select Category</option>
                                            <option value="Rent"> Rent</option>
                                            <option value="Utilities"> Utilities</option>
                                            <option value="Salaries"> Salaries</option>
                                            <option value="Inventory"> Inventory</option>
                                            <option value="Marketing"> Marketing</option>
                                            <option value="Supplies"> Supplies</option>
                                            <option value="Transport"> Transport</option>
                                            <option value="Maintenance"> Maintenance</option>
                                            <option value="Other"> Other</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group form-group-full">
                                        <label>Description <span class="required">*</span></label>
                                        <input type="text" name="description" class="form-input" placeholder="Brief description of the expense" required>
                                    </div>
                                </div>
                            </div>

                            <!-- Financial Details Section -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="12" y1="1" x2="12" y2="23"></line>
                                        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                    </svg>
                                    Financial Details
                                </h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Amount (KES) <span class="required">*</span></label>
                                        <div class="input-with-icon">
                                            <span class="input-icon">KSh</span>
                                            <input type="number" name="amount" class="form-input input-with-prefix" step="0.01" min="0" placeholder="0.00" required>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Payment Method</label>
                                        <select name="paymentMethod" class="form-input">
                                            <option value="">Select Method</option>
                                            <option value="Cash"> Cash</option>
                                            <option value="M-Pesa"> M-Pesa</option>
                                            <option value="Bank Transfer"> Bank Transfer</option>
                                            <option value="Card"> Card</option>
                                            <option value="Cheque"> Cheque</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Status</label>
                                        <select name="status" class="form-input">
                                            <option value="pending"> Pending</option>
                                            <option value="approved"> Approved</option>
                                            <option value="rejected"> Rejected</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Information Section -->
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10 9 9 9 8 9"></polyline>
                                    </svg>
                                    Additional Information
                                </h3>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Vendor / Supplier</label>
                                        <input type="text" name="vendor" class="form-input" placeholder="Supplier or vendor name">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Reference Number</label>
                                        <input type="text" name="reference" class="form-input" placeholder="Invoice #, Receipt #, etc.">
                                    </div>
                                    
                                    <div class="form-group form-group-full">
                                        <label>Notes</label>
                                        <textarea name="notes" class="form-input" rows="4" placeholder="Additional notes or comments about this expense..."></textarea>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Form Actions -->
                            <div class="form-actions-enhanced">
                                <button type="button" class="btn-cancel" onclick="document.querySelector('[data-page=\'expenses\']').click()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                    Cancel
                                </button>
                                <button type="submit" class="btn-submit">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                    Add Expense
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Accounts Module -->
            <div class="page" id="accounts-page">
                <div class="page-header">
                    <div class="page-header-left">
                        <h2>Financial Accounts</h2>
                        <p class="page-subtitle">Comprehensive financial management and reporting</p>
                    </div>
                    <div class="page-header-right">
                        <button class="btn btn-secondary" id="exportFinancialReportBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Export Report
                        </button>
                        <button class="btn btn-primary" id="refreshFinancialsBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
                <div class="page-content">
                    <!-- Financial Overview Stats -->
                    <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));">
                        <div class="stat-card success">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="1" x2="12" y2="23"></line>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Total Revenue</div>
                                <div class="stat-value" id="totalRevenue">KSh 0</div>
                                <div class="stat-subtitle" id="revenueGrowth">+0% from last month</div>
                            </div>
                        </div>

                        <div class="stat-card warning">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="8.5" cy="7" r="4"></circle>
                                    <polyline points="17 11 19 13 23 9"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Total Expenses</div>
                                <div class="stat-value" id="totalExpenses">KSh 0</div>
                                <div class="stat-subtitle" id="expensesChange">+0% from last month</div>
                            </div>
                        </div>

                        <div class="stat-card primary">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Net Profit</div>
                                <div class="stat-value" id="netProfit">KSh 0</div>
                                <div class="stat-subtitle" id="profitMargin">0% Margin</div>
                            </div>
                        </div>

                        <div class="stat-card info">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                    <line x1="1" y1="10" x2="23" y2="10"></line>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Cash Balance</div>
                                <div class="stat-value" id="cashBalance">KSh 0</div>
                                <div class="stat-subtitle" id="accountsReceivable">KSh 0 Receivable</div>
                            </div>
                        </div>
                    </div>

                    <!-- Financial Breakdown -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 2rem;">
                        <!-- Revenue Breakdown -->
                        <div class="financial-card">
                            <div class="card-header">
                                <h3>Revenue Breakdown</h3>
                                <select id="revenueTimeframe" class="form-control" style="width: 150px;">
                                    <option value="today">Today</option>
                                    <option value="week">This Week</option>
                                    <option value="month" selected>This Month</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                            <div class="card-body">
                                <div class="breakdown-list" id="revenueBreakdown">
                                    <div class="breakdown-item">
                                        <div class="breakdown-info">
                                            <span class="breakdown-label">POS Sales</span>
                                            <span class="breakdown-percent">0%</span>
                                        </div>
                                        <div class="breakdown-bar">
                                            <div class="breakdown-fill" style="width: 0%; background: #22c55e;"></div>
                                        </div>
                                        <span class="breakdown-amount">KSh 0</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Expense Breakdown -->
                        <div class="financial-card">
                            <div class="card-header">
                                <h3>Expense Breakdown</h3>
                                <select id="expenseTimeframe" class="form-control" style="width: 150px;">
                                    <option value="today">Today</option>
                                    <option value="week">This Week</option>
                                    <option value="month" selected>This Month</option>
                                    <option value="year">This Year</option>
                                </select>
                            </div>
                            <div class="card-body">
                                <div class="breakdown-list" id="expenseBreakdown">
                                    <div class="breakdown-item">
                                        <div class="breakdown-info">
                                            <span class="breakdown-label">Loading...</span>
                                            <span class="breakdown-percent">0%</span>
                                        </div>
                                        <div class="breakdown-bar">
                                            <div class="breakdown-fill" style="width: 0%; background: #f59e0b;"></div>
                                        </div>
                                        <span class="breakdown-amount">KSh 0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Status & Transactions -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 1.5rem;">
                        <!-- Outstanding Payments -->
                        <div class="financial-card">
                            <div class="card-header">
                                <h3>Outstanding Payments</h3>
                                <span class="badge badge-warning" id="outstandingCount">0</span>
                            </div>
                            <div class="card-body">
                                <div class="transactions-list" id="outstandingPayments">
                                    <div class="transaction-item">
                                        <div class="empty-state-inline">
                                            <p>No outstanding payments</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Transactions -->
                        <div class="financial-card">
                            <div class="card-header">
                                <h3>Recent Transactions</h3>
                                <button class="btn-link" id="viewAllTransactionsBtn">View All</button>
                            </div>
                            <div class="card-body">
                                <div class="transactions-list" id="recentTransactions">
                                    <div class="transaction-item">
                                        <div class="empty-state-inline">
                                            <p>No recent transactions</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Financial Summary Table -->
                    <div class="table-container" style="margin-top: 1.5rem;">
                        <div class="table-header">
                            <h3>Monthly Financial Summary</h3>
                            <div style="display: flex; gap: 0.5rem;">
                                <select id="summaryYear" class="form-control" style="width: 120px;">
                                    <option value="2025">2025</option>
                                    <option value="2024">2024</option>
                                </select>
                            </div>
                        </div>
                        <div class="table-wrapper">
                            <table class="data-table" id="financialSummaryTable">
                                <thead>
                                    <tr>
                                        <th>Month</th>
                                        <th>Revenue</th>
                                        <th>Expenses</th>
                                        <th>Profit/Loss</th>
                                        <th>Margin</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="financialSummaryBody">
                                    <tr>
                                        <td colspan="6" style="text-align: center; padding: 2rem;">Loading financial data...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports -->
            <div class="page" id="reports-page">
                <div class="page-header">
                    <h2>Reports & Analytics</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" id="refreshReportsBtn">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23 4 23 10 17 10"></polyline>
                                <polyline points="1 20 1 14 7 14"></polyline>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                            Refresh
                        </button>
                        <button class="btn btn-secondary" id="exportReportPdf">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                            </svg>
                            Export PDF
                        </button>
                        <button class="btn btn-primary" id="exportReportExcel">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                            </svg>
                            Export Excel
                        </button>
                    </div>
                </div>
                
                <div class="page-content">
                    <!-- Period Filter -->
                    <div class="report-filters">
                        <button class="report-period-btn" data-period="today">Today</button>
                        <button class="report-period-btn" data-period="week">Week</button>
                        <button class="report-period-btn active" data-period="month">Month</button>
                        <button class="report-period-btn" data-period="year">Year</button>
                    </div>

                    <!-- Overview Cards -->
                    <div class="reports-grid">
                        <div class="report-card">
                            <div class="report-card-header">
                                <span class="report-card-title">Total Revenue</span>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="1" x2="12" y2="23"></line>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                                </svg>
                            </div>
                            <div class="stat-value" id="reportTotalRevenue">KSh 0.00</div>
                        </div>

                        <div class="report-card">
                            <div class="report-card-header">
                                <span class="report-card-title">Total Expenses</span>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="16 8 12 12 8 16"></polyline>
                                </svg>
                            </div>
                            <div class="stat-value" id="reportTotalExpenses">KSh 0.00</div>
                        </div>

                        <div class="report-card">
                            <div class="report-card-header">
                                <span class="report-card-title">Net Profit</span>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                                </svg>
                            </div>
                            <div class="stat-value profit" id="reportNetProfit">KSh 0.00</div>
                        </div>

                        <div class="report-card">
                            <div class="report-card-header">
                                <span class="report-card-title">Total Transactions</span>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                </svg>
                            </div>
                            <div class="stat-value" id="reportTotalTransactions">0</div>
                        </div>
                    </div>

                    <!-- Charts Row 1 -->
                    <div class="charts-row">
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Sales Trend</h3>
                                <div class="chart-legend">
                                    <div class="legend-item">
                                        <span class="legend-dot" style="background: #6366f1;"></span>
                                        <span>Revenue</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-dot" style="background: #22c55e;"></span>
                                        <span>Expenses</span>
                                    </div>
                                </div>
                            </div>
                            <canvas id="salesTrendChart" width="600" height="300"></canvas>
                        </div>

                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Revenue Breakdown</h3>
                            </div>
                            <canvas id="revenueBreakdownChart" width="400" height="300"></canvas>
                        </div>
                    </div>

                    <!-- Charts Row 2 -->
                    <div class="charts-row">
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Expenses by Category</h3>
                            </div>
                            <canvas id="expensesCategoryChart" width="600" height="300"></canvas>
                        </div>

                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Top Products</h3>
                            </div>
                            <div class="top-products-container" id="topProductsList">
                                <p class="no-data">Loading...</p>
                            </div>
                        </div>
                    </div>

                    <!-- Custom Report Generator -->
                    <div class="report-section">
                        <div class="section-header">
                            <h3>Custom Report Generator</h3>
                        </div>
                        <div class="custom-report-card">
                            <div class="custom-report-controls">
                                <div class="form-group">
                                    <label for="reportTypeSelect">Select Report Type</label>
                                    <select id="reportTypeSelect" class="form-input">
                                        <option value="">-- Choose Report --</option>
                                        <option value="sales-summary">Sales Summary Report</option>
                                        <option value="b2b-summary">B2B Sales Report</option>
                                        <option value="expenses-summary">Expenses Report</option>
                                        <option value="inventory-status">Inventory Status Report</option>
                                        <option value="profit-loss">Profit & Loss Statement</option>
                                        <option value="top-products">Top Products Report</option>
                                        <option value="customer-orders">Customer Orders Report</option>
                                        <option value="complete-overview">Complete Business Overview</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="reportPeriodSelect">Report Period</label>
                                    <select id="reportPeriodSelect" class="form-input">
                                        <option value="today">Today</option>
                                        <option value="week">Last 7 Days</option>
                                        <option value="month" selected>Last 30 Days</option>
                                        <option value="year">Last 12 Months</option>
                                        <option value="all">All Time</option>
                                    </select>
                                </div>

                                <button class="btn btn-primary" id="generateCustomReportBtn">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10 9 9 9 8 9"></polyline>
                                    </svg>
                                    Generate & Print Report
                                </button>
                            </div>

                            <div class="custom-report-preview" id="customReportPreview">
                                <div class="preview-placeholder">
                                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                        <polyline points="10 9 9 9 8 9"></polyline>
                                    </svg>
                                    <p>Select a report type and click "Generate & Print Report" to preview</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Transactions -->
                    <div class="report-section">
                        <div class="section-header">
                            <h3>Recent Transactions</h3>
                        </div>
                        <div class="transactions-container" id="recentTransactionsList">
                            <p class="no-data">Loading...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin Panel -->
            <div class="page" id="admin-page">
                <div class="page-header">
                    <h2>Admin Panel</h2>
                </div>
                <div class="page-content">
                    <!-- Branch Management Section -->
                    <div class="admin-section">
                        <div class="section-header">
                            <h3>Branch Management</h3>
                            <button class="btn btn-primary" onclick="openBranchModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                Add Branch
                            </button>
                        </div>
                        <div class="branches-list" id="branchesListContainer">
                            <!-- Branches will be loaded here -->
                        </div>
                    </div>

                    <!-- User Management Section -->
                    <div class="admin-section">
                        <div class="section-header">
                            <h3>User Management</h3>
                            <a href="#new-user" class="btn btn-success" data-page="new-user">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="8.5" cy="7" r="4"></circle>
                                    <line x1="20" y1="8" x2="20" y2="14"></line>
                                    <line x1="23" y1="11" x2="17" y2="11"></line>
                                </svg>
                                Add New User
                            </a>
                        </div>
                        <div class="users-list" id="usersListContainer">
                            <!-- Users will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- New User -->
            <div class="page" id="new-user-page">
                <div class="page-header">
                    <h2>Create New User</h2>
                    <p style="color: var(--text-secondary); font-size: 14px; margin-top: 8px;">Add a new user account to the system</p>
                </div>
                <div class="page-content">
                    <div class="form-container-wide">
                        <form id="newUserForm" onsubmit="createNewUser(event)" class="user-form-wide">
                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    Account Information
                                </h3>
                                
                                <div class="form-grid-wide">
                                    <div class="form-group-wide">
                                        <label for="newUserEmail" class="form-label-enhanced">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                                <polyline points="22 6 12 13 2 6"></polyline>
                                            </svg>
                                            Email Address *
                                        </label>
                                        <input type="email" id="newUserEmail" name="email" required placeholder="user@example.com" class="form-input-enhanced">
                                        <small class="form-helper-enhanced">This email will be used for system login</small>
                                    </div>
                                    
                                    <div class="form-group-wide">
                                        <label for="newUserFullName" class="form-label-enhanced">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                                <circle cx="12" cy="7" r="4"></circle>
                                            </svg>
                                            Full Name *
                                        </label>
                                        <input type="text" id="newUserFullName" name="fullName" required placeholder="John Doe" class="form-input-enhanced">
                                        <small class="form-helper-enhanced">Employee's complete full name</small>
                                    </div>
                                </div>
                                
                                <div class="form-grid-wide">
                                    <div class="form-group-wide">
                                        <label for="newUserPassword" class="form-label-enhanced">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                                <circle cx="12" cy="16" r="1"></circle>
                                                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                            </svg>
                                            Password *
                                        </label>
                                        <input type="password" id="newUserPassword" name="password" required placeholder="Minimum 6 characters" minlength="6" class="form-input-enhanced">
                                        <small class="form-helper-enhanced">Choose a strong, secure password</small>
                                    </div>
                                    
                                    <div class="form-group-wide">
                                        <label for="newUserPhone" class="form-label-enhanced">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                                            </svg>
                                            Phone Number
                                        </label>
                                        <input type="tel" id="newUserPhone" name="phone" placeholder="+1 (555) 123-4567" class="form-input-enhanced">
                                        <small class="form-helper-enhanced">Contact number for the employee</small>
                                    </div>
                                </div>
                            </div>

                            <div class="form-section">
                                <h3 class="form-section-title">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="3"></circle>
                                        <path d="M12 1v6m0 6v6"></path>
                                        <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"></path>
                                        <path d="M1 12h6m6 0h6"></path>
                                        <path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"></path>
                                    </svg>
                                    Role & Permissions
                                </h3>
                                
                                <div class="role-selection-container">
                                    <div class="form-group-full">
                                        <label for="newUserRole" class="form-label-enhanced">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M9 12l2 2 4-4"></path>
                                                <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"></path>
                                                <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"></path>
                                            </svg>
                                            User Role *
                                        </label>
                                        <select id="newUserRole" name="role" required onchange="updateRoleDescription()" class="form-select-enhanced">
                                            <option value="">Select a role for this user</option>
                                            <option value="admin"> Administrator - Full System Access</option>
                                            <option value="manager"> Manager - Branch Operations</option>
                                            <option value="cashier"> Cashier - Sales & POS</option>
                                            <option value="viewer"> Viewer - Read-Only Access</option>
                                        </select>
                                        <div id="roleDescription" class="role-description"></div>
                                    </div>
                                </div>
                                
                                <div class="form-grid-wide">
                                    <div class="form-group-wide">
                                        <label for="newUserBranch" class="form-label-enhanced">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                                <circle cx="12" cy="10" r="3"></circle>
                                            </svg>
                                            Assigned Branch
                                        </label>
                                        <select id="newUserBranch" name="branchId" class="form-select-enhanced">
                                            <option value=""> All Branches (Central Access)</option>
                                            <!-- Branches will be populated dynamically -->
                                        </select>
                                        <small class="form-helper-enhanced">Assign user to a specific branch or leave for central access</small>
                                    </div>
                                    
                                    <div class="form-group-wide">
                                        <label for="newUserStatus" class="form-label-enhanced">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                            </svg>
                                            Account Status
                                        </label>
                                        <select id="newUserStatus" name="status" class="form-select-enhanced">
                                            <option value="active"> Active - Can Login</option>
                                            <option value="inactive"> Inactive - Cannot Login</option>
                                        </select>
                                        <small class="form-helper-enhanced">Inactive users cannot access the system</small>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-actions-enhanced">
                                <div class="action-info">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <path d="M12 16v-4"></path>
                                        <path d="M12 8h.01"></path>
                                    </svg>
                                    <span>User will receive login credentials via email after account creation</span>
                                </div>
                                <div class="action-buttons">
                                    <button type="button" class="btn btn-secondary-enhanced" onclick="cancelNewUser()">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <line x1="18" y1="6" x2="6" y2="18"></line>
                                            <line x1="6" y1="6" x2="18" y2="18"></line>
                                        </svg>
                                        Cancel & Go Back
                                    </button>
                                    <button type="submit" class="btn btn-success-enhanced">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="8.5" cy="7" r="4"></circle>
                                            <line x1="20" y1="8" x2="20" y2="14"></line>
                                            <line x1="23" y1="11" x2="17" y2="11"></line>
                                        </svg>
                                        Create User Account
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Branch Modal -->
    <div class="modal" id="branchModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="branchModalTitle">Add New Branch</h3>
                <button class="modal-close" onclick="closeBranchModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <form id="branchForm" onsubmit="saveBranch(event)">
                <input type="hidden" id="branchId" name="branchId">
                
                <div class="form-group">
                    <label for="branchName">Branch Name *</label>
                    <input type="text" id="branchName" name="name" required placeholder="Enter branch name">
                </div>
                
                <div class="form-group">
                    <label for="branchCode">Branch Code</label>
                    <input type="text" id="branchCode" name="code" readonly placeholder="Auto-generated" style="background-color: var(--bg-tertiary); cursor: not-allowed;">
                    <small style="font-size: 11px; color: var(--text-tertiary); margin-top: 4px; display: block;">Code will be automatically generated</small>
                </div>
                
                <div class="form-group">
                    <label for="branchAddress">Address</label>
                    <textarea id="branchAddress" name="address" rows="2" placeholder="Enter branch address"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="branchPhone">Phone</label>
                    <input type="tel" id="branchPhone" name="phone" placeholder="Enter phone number">
                </div>
                
                <div class="form-group">
                    <label for="branchManager">Manager Name</label>
                    <input type="text" id="branchManager" name="manager" placeholder="Enter manager name">
                </div>
                
                <div class="form-group">
                    <label for="branchStatus">Status</label>
                    <select id="branchStatus" name="status">
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeBranchModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Branch</button>
                </div>
            </form>
        </div>
    </div>


    <!-- Export Format Modal -->
    <div id="exportFormatModal" class="modal">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header">
                <h2>Export Financial Report</h2>
                <button class="close-modal" onclick="closeExportFormatModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 20px; color: var(--text-secondary);">Select the format to export your financial report:</p>
                <div class="export-format-options" style="display: grid; gap: 15px;">
                    <button class="export-format-btn" onclick="window.accountsManager.exportAsPDF()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        <div>
                            <div style="font-weight: 600; font-size: 16px;">PDF Document</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">Professional formatted report</div>
                        </div>
                    </button>
                    <button class="export-format-btn" onclick="window.accountsManager.exportAsCSV()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="12" y1="18" x2="12" y2="12"></line>
                            <line x1="9" y1="15" x2="15" y2="15"></line>
                        </svg>
                        <div>
                            <div style="font-weight: 600; font-size: 16px;">CSV File</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">Comma-separated values for spreadsheets</div>
                        </div>
                    </button>
                    <button class="export-format-btn" onclick="window.accountsManager.exportAsExcel()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <path d="M9 15l3-3-3-3"></path>
                            <path d="M15 15l-3-3 3-3"></path>
                        </svg>
                        <div>
                            <div style="font-weight: 600; font-size: 16px;">Excel Workbook</div>
                            <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">Multi-sheet Excel file with formatting</div>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="js/firebase-config.js"></script>
    
    <!-- Auth Guard - Check authentication status -->
    <script type="module">
        import { auth, onAuthStateChanged } from './js/firebase-config.js';
        
        // Authentication state handler
        onAuthStateChanged(auth, (user) => {
            if (!user) {
                // User is not signed in, redirect to login
                console.log(' User not authenticated, redirecting to login...');
                window.location.href = 'index.html';
            } else {
                // User is signed in
                console.log(' User authenticated:', user.email);
                
                // Update UI with user info
                const profileName = document.querySelector('.profile-btn span');
                if (profileName) {
                    profileName.textContent = user.email.split('@')[0] || 'User';
                }
                
                // Add logout functionality
                const logoutLink = document.querySelector('.profile-menu-item:last-child');
                if (logoutLink) {
                    logoutLink.addEventListener('click', async (e) => {
                        e.preventDefault();
                        try {
                            const { signOut } = await import('./js/firebase-config.js');
                            await signOut(auth);
                            console.log(' User signed out');
                            window.location.href = 'index.html';
                        } catch (error) {
                            console.error(' Error signing out:', error);
                        }
                    });
                }
            }
        });
    </script>
    
    <script type="module" src="js/branch-manager.js"></script>
    <script type="module" src="js/data-manager.js"></script>
    <script type="module" src="js/branch-ui.js"></script>
    <script type="module" src="js/user-ui.js"></script>
    <script type="module" src="js/pos.js"></script>
    <script type="module" src="js/app.js"></script>
    
    <script>
        // Export Modal Functions
        function closeExportFormatModal() {
            const modal = document.getElementById('exportFormatModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            const modal = document.getElementById('exportFormatModal');
            if (e.target === modal) {
                closeExportFormatModal();
            }
        });
    </script>
</body>
</html>
